<style>
  #shopify-section-{{ section.id }} {
    --section-padding-top: {{ section.settings.padding_top }}px;
    --section-padding-bottom: {{ section.settings.padding_bottom }}px;
    --rounded-corner-radius: {% if section.settings.rounded %}15px{% else %}0px{% endif %};
  }

  .video-container {
    position: relative;
    width: 100%;
    overflow: hidden;
    border-radius: var(--rounded-corner-radius);
  }

  .video-container iframe,
  .video-container video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: var(--rounded-corner-radius);
  }

  .video-desktop { display: block; }
  .video-mobile { display: none; }

  @media (max-width: 767px) {
    .video-container {
      aspect-ratio: 833 / 1000;
    }
    .video-desktop { display: none !important; }
    .video-mobile { display: block !important; }
  }

  @media (min-width: 768px) {
    .video-container {
      aspect-ratio: 2200 / 980;
    }
    .video-desktop { display: block !important; }
    .video-mobile { display: none !important; }
  }
</style>

<div class="section section--padding{% if section.settings.divider %} section--divider{% endif %}{% if section.settings.rounded %} section--rounded relative{% endif %}">
  <div class="{% unless section.settings.full_width %}page-width {% endunless %} relative">
    <div class="video-container">
      {%- capture sizes -%}{% if section.settings.full_width %}100vw{% else %}min({{ settings.page_width }}px, 100vw){% endif %}{%- endcapture -%}

      {%- render 'video',
        sizes: sizes,
        video: section.settings.video_desktop,
        video_url: '',
        muted: section.settings.enable_video_autoplay,
        autoplay: section.settings.enable_video_autoplay,
        loop: section.settings.enable_video_looping,
        cover_image: null,
        show_play_button: true,
        class: 'video-desktop banner__media media w-full h-full relative overflow-hidden pointer-events-none'
      -%}

      {%- render 'video',
        sizes: sizes,
        video: section.settings.video_mobile,
        video_url: '',
        muted: section.settings.enable_video_autoplay,
        autoplay: section.settings.enable_video_autoplay,
        loop: section.settings.enable_video_looping,
        cover_image: null,
        show_play_button: true,
        class: 'video-mobile banner__media media w-full h-full relative overflow-hidden pointer-events-none'
      -%}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "GoBoat Video Hero",
  "settings": [
    {
      "type": "video",
      "id": "video_desktop",
      "label": "Desktop Video"
    },
    {
      "type": "video",
      "id": "video_mobile",
      "label": "Mobile Video"
    },
    {
      "type": "checkbox",
      "id": "enable_video_autoplay",
      "label": "Enable Autoplay",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "enable_video_looping",
      "label": "Enable Looping",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "rounded",
      "label": "Rounded Corners",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "divider",
      "label": "Divider",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full Width",
      "default": true
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding Top",
      "min": 0,
      "max": 100,
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding Bottom",
      "min": 0,
      "max": 100,
      "default": 0
    }
  ],
  "presets": [
    {
      "name": "GoBoat Video Hero"
    }
  ]
}
{% endschema %}
